webpackJsonp([7],{195:function(t,e,i){i(215);var o=i(141)(i(209),i(218),"data-v-e7f47c94",null);t.exports=o.exports},206:function(t,e,i){"use strict";e.__esModule=!0;var o=i(5),n=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=n.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}},209:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(206),n=i.n(o),r=i(142);e.default={data:function(){return{}},props:["recipe"],computed:n()({},i.i(r.a)(["getIngredients","getBases","getAromas","getAdditives","mode","favorite","currency"]),{recipeIngredients:function(){return this.recipe.aromas.concat(this.recipe.additives)},recipeQuantity:function(){return this.favorite.favoriteQuantity?this.favorite.quantity:this.recipe.quantity},recipePGVGRatio:function(){return this.favorite.favoritePGVGRatio?this.favorite.PGVGRatio:this.recipe.PGVGRatio},recipeNicotine:function(){return this.favorite.favoriteNicotine?this.favorite.nicotine:this.recipe.nicotine},results:function(){var t=this,e=!0,i=1,o=0,n=0,r=0,s=0,a=0,c=void 0,l=void 0,d=void 0,u=void 0,h=0,f=0,m=1,v=0,g=void 0,p=void 0,b=void 0,y=void 0;console.warn("========================================="),console.log("ADDITIVES---------------------------------"),!this.mode.base&&this.recipe.additives.length>0&&this.recipe.additives.forEach(function(t){i-=t.ratio,n+=t.ratio}),console.log("Remaining base ratio after additives",i),console.log("AROMAS------------------------------------"),!this.mode.base&&this.recipe.aromas.length>0&&(this.recipe.aromas.forEach(function(e){var n=t.getIngredients.findIndex(function(t){return t.id===e.id}),r=t.getIngredients[n];i-=e.ratio,o+=e.ratio,s+=e.ratio*t.recipeQuantity,a+=r.PGVGRatio*e.ratio*t.recipeQuantity}),l=this.recipeQuantity*i,c=a/s,console.log("Total aromas quantity",s,"mL"),console.log("Total aromas PG/VG ratio",100*c,"%"),n>1||o>1?(n>1&&(console.warn("Too much additives!"),e=!1),o>1&&(console.warn("Too much aromas!"),e=!1)):o+n>1&&(console.warn("Too much aromas and/or additives!"),e=!1),d=(this.recipePGVGRatio*(s+l)-s*c)/l,d<0?(console.warn("Too much VG!"),e=!1):d>1&&(console.warn("Too much PG!"),e=!1),console.log("Total bases quantity",l,"mL"),console.log("Total bases PG/VG ratio",100*d,"%")),console.log("Remaining base ratio after aromas",i),console.log("NICOTINE----------------------------------"),this.mode.nicotine&&this.recipeNicotine&&this.recipeNicotine>0&&(console.log("Desired nicotine",this.recipeNicotine,"mg/mL"),this.getBases.forEach(function(t){t.nicotine>h&&(h=t.nicotine,u=t.id)}),0===h?(console.warn("No nicotine base available!"),e=!1):h<this.recipeNicotine&&(console.warn("Nicotine base not strong enought!"),e=!1),console.log("Strongest nicotine base ID",u,h,"mg/mL"),f=this.recipeQuantity*this.recipeNicotine/h,r=f/this.recipeQuantity,i-=r,console.log("Nicotine base quantity",f,"mL"),console.log("Nicotine base PG/VG ratio",100*this.getBases[u].PGVGRatio,"%")),console.log("Remaining base ratio after nicotine",i),console.log("BASES-------------------------------------");var _=s+f,G=void 0;G=this.mode.nicotine&&!this.mode.base&&this.recipe.aromas.length>0?(s*c+f*this.getBases[u].PGVGRatio)/_:!this.mode.nicotine&&this.mode.base?0:this.mode.nicotine?f*this.getBases[u].PGVGRatio/_:s*c/_,console.log("Submix",_,"mL @",100*G,"% PG/VG");var x=this.recipeQuantity*i,w=(this.recipePGVGRatio*(_+x)-_*G)/x;w<0?(console.warn("Too much VG!"),e=!1):w>1&&(console.warn("Too much PG!"),e=!1),console.log("Basemix",x,"mL @",100*w,"% PG/VG"),this.getBases.forEach(function(t){0===t.nicotine&&(t.PGVGRatio<m&&(m=t.PGVGRatio,g=t.id),t.PGVGRatio>v&&(v=t.PGVGRatio,p=t.id))}),console.log("Extreme bases from",100*m,"to",100*v,"%"),w<m&&(console.warn("Too much VG in your base(s)!"),e=!1),w>v&&(console.warn("Too much PG in your base(s)!"),e=!1),b=x*(w-v)/(m-v),y=x-b,console.log("Base min PGVG",b,"mL @",100*m,"%"),console.log("Base max PGVG",y,"mL @",100*v,"%"),console.log("Faisability of recipe",e);var P=[],I=this.getIngredients[this.getIngredients.findIndex(function(t){return t.id===g})],V=this.getIngredients[this.getIngredients.findIndex(function(t){return t.id===p})],N=this.getIngredients[this.getIngredients.findIndex(function(t){return t.id===u})];return e&&(this.mode.base||this.recipeIngredients.forEach(function(e){var i=t.getIngredients.findIndex(function(t){return t.id===e.id});P.push({id:e.id,name:t.getIngredients[i].name,ratio:e.ratio,quantity:e.ratio*t.recipeQuantity,price:t.getIngredients[i].price*(e.ratio*t.recipeQuantity/1e3),color:t.getIngredients[i].color,viscosity:t.getIngredients[i].viscosity})}),P.unshift({id:g,name:I.name,ratio:b/this.recipeQuantity,quantity:b,price:I.price*b/1e3,color:I.color,viscosity:I.viscosity}),P.unshift({id:p,name:V.name,ratio:y/this.recipeQuantity,quantity:y,price:V.price*y/1e3,color:V.color,viscosity:V.viscosity}),this.mode.nicotine&&P.unshift({id:u,name:N.name,ratio:r,quantity:f,price:N.price*f/1e3,color:N.color,viscosity:N.viscosity})),P},totalRatio:function(){var t=0;return this.results.forEach(function(e){t+=e.ratio}),t},totalQuantity:function(){var t=0;return this.results.forEach(function(e){t+=e.quantity}),t},totalPrice:function(){var t=0;return this.results.forEach(function(e){t+=e.price?e.price:0}),t}}),methods:n()({},i.i(r.b)([]),i.i(r.c)([]),{roundNumber:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=Math.pow(10,e);return Math.round(t*i)/i}})}},212:function(t,e,i){e=t.exports=i(191)(),e.push([t.i,"@media (min-width:40em){.results[data-v-e7f47c94]{display:-webkit-box;display:-ms-flexbox;display:flex}.results>[data-v-e7f47c94]{-ms-flex-negative:1;flex-shrink:1}}.beaker[data-v-e7f47c94]{margin:16px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;box-shadow:0 4px 0 4px #666;border-bottom-left-radius:4px;border-bottom-right-radius:4px;overflow:hidden;height:20rem}@media (min-width:40em){.beaker[data-v-e7f47c94]{height:auto;-ms-flex-preferred-size:10%;flex-basis:10%;margin-left:0}}.beaker>[data-v-e7f47c94]{-webkit-transition:all .4s;transition:all .4s}.results-list[data-v-e7f47c94]{width:100%;font-size:.9rem}@media (min-width:40em){.results-list[data-v-e7f47c94]{width:90%}}.results-list td[data-v-e7f47c94],.results-list th[data-v-e7f47c94]{padding:16px 8px}.results-list thead[data-v-e7f47c94]{text-transform:uppercase}.results-list thead th[data-v-e7f47c94]{text-align:left}.results-list tfoot[data-v-e7f47c94]{font-weight:700}",""])},215:function(t,e,i){var o=i(212);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i(192)("54a036d5",o,!0)},218:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"results"},[t.mode.beaker?i("div",{staticClass:"beaker"},t._l(t.results,function(t,e){return i("div",{key:e,style:{backgroundColor:t.color,flexBasis:100*t.ratio+"%"}})})):t._e(),t._v(" "),t.results.length?i("table",{staticClass:"results-list"},[i("tbody",t._l(t.results,function(e,o){return i("tr",{key:o},[i("td",[i("router-link",{staticClass:"circular small",style:{backgroundColor:e.color,color:"white"},attrs:{to:{path:"/ingredient/edit/"+e.id},tag:"button"}},[t._v("\n            "+t._s(o+1)+"\n          ")])],1),t._v(" "),i("td",[t._v(t._s(e.name)+" (ID:"+t._s(e.id)+")")]),t._v(" "),i("td",[t._v(t._s(t.roundNumber(100*e.ratio))+"%")]),t._v(" "),e.quantity<1&&t.mode.drop?i("td",[t._v("\n          "+t._s(t.roundNumber(e.quantity*e.viscosity))+" "+t._s(t.$tc("drop",2))+"\n        ")]):i("td",[t._v("\n          "+t._s(t.roundNumber(e.quantity))+"mL\n        ")]),t._v(" "),t.mode.price?i("td",[t._v("\n          "+t._s(t.roundNumber(e.price,2))+t._s(t.currency)+"\n        ")]):t._e()])})),t._v(" "),i("tfoot",[i("tr",[i("td"),t._v(" "),i("td",[t._v("TOTAL ("+t._s(t.results.length)+" "+t._s(t.$tc("ingredient",t.results.length))+")")]),t._v(" "),i("td",[t._v(t._s(t.roundNumber(100*t.totalRatio))+"%")]),t._v(" "),i("td",[t._v(t._s(t.roundNumber(t.totalQuantity))+"mL")]),t._v(" "),t.mode.price?i("td",[t._v("\n          "+t._s(t.roundNumber(t.totalPrice,2))+t._s(t.currency)),i("br"),t._v("\n          ("+t._s(t.roundNumber(1e3*t.totalPrice/t.totalQuantity,2))+t._s(t.currency)+"/L)\n        ")]):t._e()])])],1):i("div",[t._v("\n    Recipe is NOT doable!\n  ")])])},staticRenderFns:[]}}});