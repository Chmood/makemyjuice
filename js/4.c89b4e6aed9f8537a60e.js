webpackJsonp([4],{172:function(t,e,n){n(211);var o=n(135)(n(205),n(214),"data-v-e7f47c94",null);t.exports=o.exports},180:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},181:function(t,e,n){var o=n(188);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},182:function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},183:function(t,e,n){var o=n(181),i=n(180);t.exports=function(t){return o(i(t))}},184:function(t,e,n){"use strict";e.__esModule=!0;var o=n(185),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},185:function(t,e,n){t.exports={default:n(186),__esModule:!0}},186:function(t,e,n){n(202),t.exports=n(6).Object.assign},187:function(t,e,n){var o=n(183),i=n(199),r=n(198);t.exports=function(t){return function(e,n,a){var s,c=o(e),u=i(c.length),l=r(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},188:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},189:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},190:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},191:function(t,e,n){"use strict";var o=n(194),i=n(192),r=n(195),a=n(200),s=n(181),c=Object.assign;t.exports=!c||n(7)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=o})?function(t,e){for(var n=a(t),c=arguments.length,u=1,l=i.f,f=r.f;c>u;)for(var d,g=s(arguments[u++]),p=l?o(g).concat(l(g)):o(g),v=p.length,h=0;v>h;)f.call(g,d=p[h++])&&(n[d]=g[d]);return n}:c},192:function(t,e){e.f=Object.getOwnPropertySymbols},193:function(t,e,n){var o=n(190),i=n(183),r=n(187)(!1),a=n(196)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),c=0,u=[];for(n in s)n!=a&&o(s,n)&&u.push(n);for(;e.length>c;)o(s,n=e[c++])&&(~r(u,n)||u.push(n));return u}},194:function(t,e,n){var o=n(193),i=n(189);t.exports=Object.keys||function(t){return o(t,i)}},195:function(t,e){e.f={}.propertyIsEnumerable},196:function(t,e,n){var o=n(197)("keys"),i=n(201);t.exports=function(t){return o[t]||(o[t]=i(t))}},197:function(t,e,n){var o=n(8),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},198:function(t,e,n){var o=n(182),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),t<0?i(t+e,0):r(t,e)}},199:function(t,e,n){var o=n(182),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},200:function(t,e,n){var o=n(180);t.exports=function(t){return Object(o(t))}},201:function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},202:function(t,e,n){var o=n(137);o(o.S+o.F,"Object",{assign:n(191)})},205:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(184),i=n.n(o),r=n(136);e.default={data:function(){return{}},props:[],computed:i()({},n.i(r.a)(["getIngredients","getBases","getAromas","getAdditives","getRecipeAromas","getRecipeAdditives","getRecipeQuantity","getRecipePGVGRatio","getRecipeNicotine"]),{recipeIngredients:function(){return this.getRecipeAromas.concat(this.getRecipeAdditives)},results:function(){var t=this,e=!0,n=1,o=0,i=0,r=0,a=0,s=0,c=void 0,u=void 0,l=void 0,f=void 0,d=0,g=0,p=1,v=0,h=void 0,m=void 0,_=void 0,b=void 0;console.warn("========================================="),console.log("ADDITIVES---------------------------------"),this.getRecipeAdditives.forEach(function(t){n-=t.ratio,i+=t.ratio}),console.log("Remaining base ratio after additives",n),console.log("AROMAS------------------------------------"),this.getRecipeAromas.forEach(function(e){var i=t.getIngredients.findIndex(function(t){return t.id===e.id}),r=t.getIngredients[i];n-=e.ratio,o+=e.ratio,a+=e.ratio*t.getRecipeQuantity,s+=r.PGVGRatio*e.ratio*t.getRecipeQuantity}),u=this.getRecipeQuantity*n,c=s/a,console.log("Total aromas quantity",a,"mL"),console.log("Total aromas PG/VG ratio",100*c,"%"),i>1||o>1?(i>1&&(console.warn("Too much additives!"),e=!1),o>1&&(console.warn("Too much aromas!"),e=!1)):o+i>1&&(console.warn("Too much aromas and/or additives!"),e=!1),l=(this.getRecipePGVGRatio*(a+u)-a*c)/u,l<0?(console.warn("Too much VG!"),e=!1):l>1&&(console.warn("Too much PG!"),e=!1),console.log("Total bases quantity",u,"mL"),console.log("Total bases PG/VG ratio",100*l,"%"),console.log("Remaining base ratio after aromas",n),console.log("NICOTINE----------------------------------"),this.getRecipeNicotine&&this.getRecipeNicotine>0&&(console.log("Desired nicotine",this.getRecipeNicotine,"mg/mL"),this.getBases.forEach(function(t){t.nicotine>d&&(d=t.nicotine,f=t.id)}),0===d?(console.warn("No nicotine base available!"),e=!1):d<this.getRecipeNicotine&&(console.warn("Nicotine base not strong enought!"),e=!1),console.log("Strongest nicotine base ID",f,d,"mg/mL"),g=this.getRecipeQuantity*this.getRecipeNicotine/d,r=g/this.getRecipeQuantity,n-=r,console.log("Nicotine base quantity",g,"mL"),console.log("Nicotine base PG/VG ratio",100*this.getBases[f].PGVGRatio,"%")),console.log("Remaining base ratio after nicotine",n),console.log("BASES-------------------------------------");var y=a+g,x=(a*c+g*this.getBases[f].PGVGRatio)/y;console.log("Submix",y,"mL @",100*x,"% PG/VG");var R=this.getRecipeQuantity*n,G=(this.getRecipePGVGRatio*(y+R)-y*x)/R;G<0?(console.warn("Too much VG!"),e=!1):G>1&&(console.warn("Too much PG!"),e=!1),console.log("Basemix",R,"mL @",100*G,"% PG/VG"),this.getBases.forEach(function(t){0===t.nicotine&&(t.PGVGRatio<p&&(p=t.PGVGRatio,h=t.id),t.PGVGRatio>v&&(v=t.PGVGRatio,m=t.id))}),console.log("Extreme bases from",100*p,"to",100*v,"%"),G<p&&(console.warn("Too much VG in your base(s)!"),e=!1),G>v&&(console.warn("Too much PG in your base(s)!"),e=!1),_=R*(G-v)/(p-v),b=R-_,console.log("Base min PGVG",_,"mL @",100*p,"%"),console.log("Base max PGVG",b,"mL @",100*v,"%"),console.log("Faisability of recipe",e);var I=[],P=this.getIngredients[this.getIngredients.findIndex(function(t){return t.id===h})],w=this.getIngredients[this.getIngredients.findIndex(function(t){return t.id===m})],O=this.getIngredients[this.getIngredients.findIndex(function(t){return t.id===f})];return e&&(this.recipeIngredients.forEach(function(e){var n=t.getIngredients.findIndex(function(t){return t.id===e.id});I.push({id:e.id,name:t.getIngredients[n].name,ratio:e.ratio,quantity:e.ratio*t.getRecipeQuantity,price:t.getIngredients[n].price*(e.ratio*t.getRecipeQuantity/1e3),color:t.getIngredients[n].color})}),I.unshift({id:h,name:P.name,ratio:_/this.getRecipeQuantity,quantity:_,price:P.price*_/1e3,color:P.color}),I.unshift({id:m,name:w.name,ratio:b/this.getRecipeQuantity,quantity:b,price:w.price*b/1e3,color:w.color}),I.unshift({id:f,name:O.name,ratio:r,quantity:g,price:O.price*g/1e3,color:O.color})),I},totalRatio:function(){var t=0;return this.results.forEach(function(e){t+=e.ratio}),t},totalQuantity:function(){var t=0;return this.results.forEach(function(e){t+=e.quantity}),t},totalPrice:function(){var t=0;return this.results.forEach(function(e){t+=e.price?e.price:0}),t}}),methods:i()({},n.i(r.b)([]),n.i(r.c)([]),{roundNumber:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Math.pow(10,e);return Math.round(t*n)/n}})}},208:function(t,e,n){e=t.exports=n(168)(),e.push([t.i,".beaker[data-v-e7f47c94]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}article[data-v-e7f47c94]{margin-bottom:16px}table[data-v-e7f47c94]{width:100%}td[data-v-e7f47c94],th[data-v-e7f47c94]{padding:16px}thead[data-v-e7f47c94]{text-transform:uppercase}thead th[data-v-e7f47c94]{text-align:left}tfoot[data-v-e7f47c94]{font-weight:700}",""])},211:function(t,e,n){var o=n(208);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(169)("54a036d5",o,!0)},214:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"beaker",staticStyle:{height:"20rem"}},t._l(t.results,function(t,e){return n("div",{key:e,style:{backgroundColor:t.color,flexBasis:100*t.ratio+"%"}})})),t._v(" "),t.results.length?n("table",[n("thead",[n("tr",[n("th",[t._v("#")]),t._v(" "),n("th",[t._v(t._s(t.$t("name")))]),t._v(" "),n("th",[t._v(t._s(t.$t("ratio")))]),t._v(" "),n("th",[t._v(t._s(t.$t("quantity")))]),t._v(" "),n("th",[t._v(t._s(t.$t("price")))])])]),t._v(" "),n("tbody",t._l(t.results,function(e,o){return n("tr",{key:o},[n("td",{style:{backgroundColor:e.color}},[t._v(t._s(o+1))]),t._v(" "),n("td",[t._v(t._s(e.name)+" (ID:"+t._s(e.id)+")")]),t._v(" "),n("td",[t._v(t._s(t.roundNumber(100*e.ratio))+"%")]),t._v(" "),n("td",[t._v(t._s(t.roundNumber(e.quantity))+"mL")]),t._v(" "),n("td",[t._v(t._s(t.roundNumber(e.price,2))+"$")])])})),t._v(" "),n("tfoot",[n("tr",[n("td"),t._v(" "),n("td",[t._v("TOTAL ("+t._s(t.results.length)+" "+t._s(t.$tc("ingredient",t.results.length))+")")]),t._v(" "),n("td",[t._v(t._s(t.roundNumber(100*t.totalRatio))+"%")]),t._v(" "),n("td",[t._v(t._s(t.roundNumber(t.totalQuantity))+"mL")]),t._v(" "),n("td",[t._v("\n          "+t._s(t.roundNumber(t.totalPrice,2))+"$\n          ("+t._s(t.roundNumber(1e3*t.totalPrice/t.totalQuantity,2))+"$/L)\n        ")])])])],1):n("div",[t._v("\n    Recipe is NOT doable!\n  ")])])},staticRenderFns:[]}}});