webpackJsonp([5,12],{193:function(e,t,i){i(213);var r=i(140)(i(209),i(215),"data-v-18d38adc",null);e.exports=r.exports},197:function(e,t,i){i(225);var r=i(140)(i(219),i(228),"data-v-e7f47c94",null);e.exports=r.exports},208:function(e,t,i){"use strict";t.__esModule=!0;var r=i(142),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}},209:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["results"]}},211:function(e,t,i){t=e.exports=i(191)(),t.push([e.i,"@media (min-width:40em){.beaker-container[data-v-18d38adc]{height:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.beaker[data-v-18d38adc]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;width:10rem;margin:64px auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:20rem;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:rotateX(-25deg) rotateY(45deg);transform:rotateX(-25deg) rotateY(45deg)}@media (min-width:40em){.beaker[data-v-18d38adc]{width:5rem;margin:0 32px}}.beaker-ingredient[data-v-18d38adc]{position:relative;-webkit-transition:all .4s;transition:all .4s;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.beaker-face[data-v-18d38adc]{position:absolute;top:0;bottom:0;left:0;right:0;opacity:.75}.beaker-face--front[data-v-18d38adc]{-webkit-transform:translateZ(5rem);transform:translateZ(5rem)}.beaker-face--back[data-v-18d38adc]{-webkit-transform:translateZ(-5rem);transform:translateZ(-5rem)}.beaker-face--left[data-v-18d38adc]{-webkit-transform:rotateY(90deg) translateZ(5rem);transform:rotateY(90deg) translateZ(5rem)}.beaker-face--right[data-v-18d38adc]{-webkit-transform:rotateY(90deg) translateZ(-5rem);transform:rotateY(90deg) translateZ(-5rem)}.beaker-face--top[data-v-18d38adc]{height:10rem;-webkit-transform:rotateX(90deg) translateZ(5rem);transform:rotateX(90deg) translateZ(5rem)}@media (min-width:40em){.beaker-face--front[data-v-18d38adc]{-webkit-transform:translateZ(2.5rem);transform:translateZ(2.5rem)}.beaker-face--back[data-v-18d38adc]{-webkit-transform:translateZ(-2.5rem);transform:translateZ(-2.5rem)}.beaker-face--left[data-v-18d38adc]{-webkit-transform:rotateY(90deg) translateZ(2.5rem);transform:rotateY(90deg) translateZ(2.5rem)}.beaker-face--right[data-v-18d38adc]{-webkit-transform:rotateY(90deg) translateZ(-2.5rem);transform:rotateY(90deg) translateZ(-2.5rem)}.beaker-face--top[data-v-18d38adc]{height:5rem;-webkit-transform:rotateX(90deg) translateZ(2.5rem);transform:rotateX(90deg) translateZ(2.5rem)}}",""])},213:function(e,t,i){var r=i(211);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i(192)("2ee3b2e6",r,!0)},215:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"beaker-container"},[i("div",{staticClass:"beaker"},e._l(e.results,function(t,r){return i("div",{key:r,staticClass:"beaker-ingredient",style:{flexBasis:100*t.ratio+"%"}},[i("div",{staticClass:"beaker-face beaker-face--front",style:{backgroundColor:t.color}}),e._v(" "),i("div",{staticClass:"beaker-face beaker-face--back",style:{backgroundColor:t.color}}),e._v(" "),i("div",{staticClass:"beaker-face beaker-face--right",style:{backgroundColor:t.color}}),e._v(" "),i("div",{staticClass:"beaker-face beaker-face--left",style:{backgroundColor:t.color}}),e._v(" "),i("div",{staticClass:"beaker-face beaker-face--top",style:{backgroundColor:t.color}})])}))])},staticRenderFns:[]}},219:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(208),a=i.n(r),o=i(141),n=i(193),s=i.n(n);t.default={components:{Beaker:s.a},data:function(){return{}},props:["recipe"],computed:a()({},i.i(o.a)(["getIngredients","getBases","getAromas","getAdditives","mode","favorite","currency"]),{recipeIngredients:function(){return this.recipe.aromas.concat(this.recipe.additives)},recipeQuantity:function(){return this.favorite.favoriteQuantity?this.favorite.quantity:this.recipe.quantity},recipePGVGRatio:function(){return this.favorite.favoritePGVGRatio?this.favorite.PGVGRatio:this.recipe.PGVGRatio},recipeNicotine:function(){return this.favorite.favoriteNicotine?this.favorite.nicotine:this.recipe.nicotine},results:function(){var e=this,t=!0,i=1,r=0,a=0,o=0,n=0,s=0,c=void 0,d=void 0,l=void 0,u=void 0,f=0,m=0,v=1,h=0,g=void 0,b=void 0,p=void 0,y=void 0;console.warn("========================================="),console.log("ADDITIVES---------------------------------"),!this.mode.base&&this.recipe.additives.length>0&&this.recipe.additives.forEach(function(e){i-=e.ratio,a+=e.ratio}),console.log("Remaining base ratio after additives",i),console.log("AROMAS------------------------------------"),!this.mode.base&&this.recipe.aromas.length>0&&(this.recipe.aromas.forEach(function(t){var a=e.getIngredients.findIndex(function(e){return e.id===t.id}),o=e.getIngredients[a];i-=t.ratio,r+=t.ratio,n+=t.ratio*e.recipeQuantity,s+=o.PGVGRatio*t.ratio*e.recipeQuantity}),d=this.recipeQuantity*i,c=s/n,console.log("Total aromas quantity",n,"mL"),console.log("Total aromas PG/VG ratio",100*c,"%"),a>1||r>1?(a>1&&(console.warn("Too much additives!"),t=!1),r>1&&(console.warn("Too much aromas!"),t=!1)):r+a>1&&(console.warn("Too much aromas and/or additives!"),t=!1),l=(this.recipePGVGRatio*(n+d)-n*c)/d,l<0?(console.warn("Too much VG!"),t=!1):l>1&&(console.warn("Too much PG!"),t=!1),console.log("Total bases quantity",d,"mL"),console.log("Total bases PG/VG ratio",100*l,"%")),console.log("Remaining base ratio after aromas",i),console.log("NICOTINE----------------------------------"),this.mode.nicotine&&this.recipeNicotine&&this.recipeNicotine>0&&(console.log("Desired nicotine",this.recipeNicotine,"mg/mL"),this.getBases.forEach(function(e){e.nicotine>f&&(f=e.nicotine,u=e.id)}),0===f?(console.warn("No nicotine base available!"),t=!1):f<this.recipeNicotine&&(console.warn("Nicotine base not strong enought!"),t=!1),console.log("Strongest nicotine base ID",u,f,"mg/mL"),m=this.recipeQuantity*this.recipeNicotine/f,o=m/this.recipeQuantity,i-=o,console.log("Nicotine base quantity",m,"mL"),console.log("Nicotine base PG/VG ratio",100*this.getBases[u].PGVGRatio,"%")),console.log("Remaining base ratio after nicotine",i),console.log("BASES-------------------------------------");var _=n+m,k=void 0;k=this.mode.nicotine&&!this.mode.base&&this.recipe.aromas.length>0?(n*c+m*this.getBases[u].PGVGRatio)/_:!this.mode.nicotine&&this.mode.base?0:this.mode.nicotine?m*this.getBases[u].PGVGRatio/_:n*c/_,console.log("Submix",_,"mL @",100*k,"% PG/VG");var x=this.recipeQuantity*i,w=(this.recipePGVGRatio*(_+x)-_*k)/x;w<0?(console.warn("Too much VG!"),t=!1):w>1&&(console.warn("Too much PG!"),t=!1),console.log("Basemix",x,"mL @",100*w,"% PG/VG"),this.getBases.forEach(function(e){0===e.nicotine&&(e.PGVGRatio<v&&(v=e.PGVGRatio,g=e.id),e.PGVGRatio>h&&(h=e.PGVGRatio,b=e.id))}),console.log("Extreme bases from",100*v,"to",100*h,"%"),w<v&&(console.warn("Too much VG in your base(s)!"),t=!1),w>h&&(console.warn("Too much PG in your base(s)!"),t=!1),p=x*(w-h)/(v-h),y=x-p,console.log("Base min PGVG",p,"mL @",100*v,"%"),console.log("Base max PGVG",y,"mL @",100*h,"%"),console.log("Faisability of recipe",t);var G=[],P=this.getIngredients[this.getIngredients.findIndex(function(e){return e.id===g})],I=this.getIngredients[this.getIngredients.findIndex(function(e){return e.id===b})],V=this.getIngredients[this.getIngredients.findIndex(function(e){return e.id===u})];return t&&(this.mode.base||this.recipeIngredients.forEach(function(t){var i=e.getIngredients.findIndex(function(e){return e.id===t.id});G.push({id:t.id,name:e.getIngredients[i].name,ratio:t.ratio,quantity:t.ratio*e.recipeQuantity,price:e.getIngredients[i].price*(t.ratio*e.recipeQuantity/1e3),color:e.getIngredients[i].color,viscosity:e.getIngredients[i].viscosity})}),G.unshift({id:g,name:P.name,ratio:p/this.recipeQuantity,quantity:p,price:P.price*p/1e3,color:P.color,viscosity:P.viscosity}),G.unshift({id:b,name:I.name,ratio:y/this.recipeQuantity,quantity:y,price:I.price*y/1e3,color:I.color,viscosity:I.viscosity}),this.mode.nicotine&&G.unshift({id:u,name:V.name,ratio:o,quantity:m,price:V.price*m/1e3,color:V.color,viscosity:V.viscosity})),G},totalRatio:function(){var e=0;return this.results.forEach(function(t){e+=t.ratio}),e},totalQuantity:function(){var e=0;return this.results.forEach(function(t){e+=t.quantity}),e},totalPrice:function(){var e=0;return this.results.forEach(function(t){e+=t.price?t.price:0}),e}}),methods:a()({},i.i(o.b)([]),i.i(o.c)([]),{roundNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=Math.pow(10,t);return Math.round(e*i)/i}})}},222:function(e,t,i){t=e.exports=i(191)(),t.push([e.i,"@media (min-width:40em){.results[data-v-e7f47c94]{display:-webkit-box;display:-ms-flexbox;display:flex}.results>[data-v-e7f47c94]{-ms-flex-negative:1;flex-shrink:1}}.results-list[data-v-e7f47c94]{max-width:100%;font-size:.9rem}@media (min-width:40em){.results-list[data-v-e7f47c94]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}}.results-list td[data-v-e7f47c94],.results-list th[data-v-e7f47c94]{padding:16px 8px}.results-list thead[data-v-e7f47c94]{text-transform:uppercase}.results-list thead th[data-v-e7f47c94]{text-align:left}.results-list tfoot[data-v-e7f47c94]{font-weight:700}",""])},225:function(e,t,i){var r=i(222);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i(192)("54a036d5",r,!0)},228:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"results"},[e.mode.beaker?i("Beaker",{attrs:{results:e.results}}):e._e(),e._v(" "),e.results.length?i("table",{staticClass:"results-list"},[i("thead",[i("tr",[i("th",[e._v("#")]),e._v(" "),i("th",[e._v(e._s(e.$t("name")))]),e._v(" "),i("th",[e._v(e._s(e.$t("ratio")))]),e._v(" "),i("th",[e._v(e._s(e.$t("quantity")))]),e._v(" "),e.mode.price?i("th",[e._v(e._s(e.$t("price")))]):e._e()])]),e._v(" "),i("tbody",e._l(e.results,function(t,r){return i("tr",{key:r},[i("td",[i("router-link",{staticClass:"circular small",style:{backgroundColor:t.color,color:"white"},attrs:{to:{path:"/ingredient/edit/"+t.id},tag:"button"}},[e._v("\n            "+e._s(r+1)+"\n          ")])],1),e._v(" "),i("td",[e._v(e._s(t.name))]),e._v(" "),i("td",[e._v(e._s(e.roundNumber(100*t.ratio))+"%")]),e._v(" "),t.quantity<1&&e.mode.drop?i("td",[e._v("\n          "+e._s(e.roundNumber(t.quantity*t.viscosity))+" "+e._s(e.$tc("drop",2))+"\n        ")]):i("td",[e._v("\n          "+e._s(e.roundNumber(t.quantity))+"mL\n        ")]),e._v(" "),e.mode.price?i("td",[e._v("\n          "+e._s(e.roundNumber(t.price,2))+e._s(e.currency)+"\n        ")]):e._e()])})),e._v(" "),i("tfoot",[i("tr",[i("td"),e._v(" "),i("td",[e._v("TOTAL ("+e._s(e.results.length)+" "+e._s(e.$tc("ingredient",e.results.length))+")")]),e._v(" "),i("td",[e._v(e._s(e.roundNumber(100*e.totalRatio))+"%")]),e._v(" "),i("td",[e._v(e._s(e.roundNumber(e.totalQuantity))+"mL")]),e._v(" "),e.mode.price?i("td",[e._v("\n          "+e._s(e.roundNumber(e.totalPrice,2))+e._s(e.currency)),i("br"),e._v("\n          ("+e._s(e.roundNumber(1e3*e.totalPrice/e.totalQuantity))+e._s(e.currency)+"/L)\n        ")]):e._e()])])],1):i("div",[e._v("\n    Recipe is NOT doable!\n  ")])],1)},staticRenderFns:[]}}});